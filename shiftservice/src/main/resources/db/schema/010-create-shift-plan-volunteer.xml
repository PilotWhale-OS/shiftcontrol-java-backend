
<!-- Create ShiftPlan-Volunteer Join Table -->
<changeSet id="010- create-shiftplan-volunteer" author="paul">

<createTable tableName="shiftplan_volunteer">

    <column name="shiftplan_id" type="BIGINT">
        <constraints nullable="false"/>
    </column>

    <column name="volunteer_id" type="BIGINT">
        <constraints nullable="false"/>
    </column>

</createTable>

<addPrimaryKey
        tableName="shiftplan_volunteer"
        columnNames="shiftplan_id, volunteer_id"
        constraintName="pk_shiftplan_volunteer"/>

<addForeignKeyConstraint
        baseTableName="shiftplan_volunteer"
        baseColumnNames="shiftplan_id"
        referencedTableName="shift_plan"
        referencedColumnNames="id"
        constraintName="fk_shiftplan_volunteer_shiftplan"/>

<addForeignKeyConstraint
        baseTableName="shiftplan_volunteer"
        baseColumnNames="volunteer_id"
        referencedTableName="volunteer"
        referencedColumnNames="id"
        constraintName="fk_shiftplan_volunteer_volunteer"/>

</changeSet>